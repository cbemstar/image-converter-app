<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-NFJTSQ3N');</script>
  <!-- End Google Tag Manager -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Converter - reformately</title>
  <script>document.documentElement.setAttribute('data-theme', localStorage.getItem('theme') || 'dark');</script>
  <link rel="stylesheet" href="../../styles/styles.css">
  <link rel="stylesheet" href="../../styles/globals.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <!-- Updated AVIF library -->
  <script src="https://cdn.jsdelivr.net/npm/@jsquash/avif@2.1.1/dist/full/avif-enc.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@jsquash/avif@2.1.1/dist/full/avif-dec.js"></script>
  <!-- Updated HEIC library - using heic-to instead of heic2any -->
  <script src="https://cdn.jsdelivr.net/npm/heic-to@1.2.1/dist/iife/heic-to.js"></script>
  <!-- Fallback HEIC decoder -->
  <script src="https://cdn.jsdelivr.net/npm/libheif-js@1.19.8/libheif/libheif.js"></script>
  <!-- RAW image processing -->
  <script src="https://cdn.jsdelivr.net/npm/raw-wasm@1.0.0/dist/raw-wasm.min.js"></script>
  <!-- Lucide icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <!-- Simple Authentication for Usage Tracking -->
  <script src="auth-simple.js"></script>
  
  <!-- JS files -->
  <script type="module" src="core.js"></script>
  <script src="../../styles/theme.js"></script>
  <script type="module" src="../../layout.js"></script>
  
  <style>
    /* Enhanced shadcn-inspired styles consistent with homepage */
    .shadcn-card {
      background-color: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: 0.75rem;
      padding: 1.5rem;
      box-shadow: 0 1px 3px 0 hsl(var(--shadow) / 0.1), 0 1px 2px -1px hsl(var(--shadow) / 0.1);
      transition: all 0.2s ease;
    }

    .shadcn-card:hover {
      border-color: hsl(var(--border) / 0.8);
    }

    .shadcn-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 0.5rem;
      font-weight: 500;
      transition: all 0.2s ease;
      cursor: pointer;
      border: 1px solid transparent;
      padding: 0.625rem 1.25rem;
      font-size: 0.875rem;
      line-height: 1.25rem;
      gap: 0.5rem;
    }

    .shadcn-button-primary {
      background-color: hsl(var(--primary));
      color: hsl(var(--primary-foreground));
      border-color: hsl(var(--primary));
    }

    .shadcn-button-primary:hover {
      background-color: hsl(var(--primary) / 0.9);
      transform: translateY(-1px);
    }

    .shadcn-button-secondary {
      background-color: hsl(var(--secondary));
      color: hsl(var(--secondary-foreground));
      border-color: hsl(var(--secondary));
    }

    .shadcn-button-secondary:hover {
      background-color: hsl(var(--secondary) / 0.8);
      transform: translateY(-1px);
    }

    .shadcn-button-outline {
      background-color: transparent;
      color: hsl(var(--foreground));
      border-color: hsl(var(--border));
    }

    .shadcn-button-outline:hover {
      background-color: hsl(var(--accent));
      color: hsl(var(--accent-foreground));
      border-color: hsl(var(--accent));
    }

    .shadcn-button-ghost {
      background-color: transparent;
      color: hsl(var(--foreground));
      border: none;
      padding: 0.5rem 1rem;
    }

    .shadcn-button-ghost:hover {
      background-color: hsl(var(--accent));
      color: hsl(var(--accent-foreground));
    }

    .shadcn-input {
      display: flex;
      height: 2.75rem;
      width: 100%;
      border-radius: 0.5rem;
      border: 1px solid hsl(var(--border));
      background-color: hsl(var(--background));
      padding: 0.625rem 0.875rem;
      font-size: 0.875rem;
      transition: all 0.2s ease;
      color: hsl(var(--foreground));
    }

    .shadcn-input:focus {
      outline: none;
      border-color: hsl(var(--primary));
      box-shadow: 0 0 0 2px hsl(var(--primary) / 0.1);
    }

    .shadcn-select {
      display: flex;
      height: 2.75rem;
      width: 100%;
      border-radius: 0.5rem;
      border: 1px solid hsl(var(--border));
      background-color: hsl(var(--background));
      padding: 0.625rem 0.875rem;
      font-size: 0.875rem;
      transition: all 0.2s ease;
      color: hsl(var(--foreground));
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
      background-position: right 0.5rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      padding-right: 2.5rem;
    }

    .shadcn-select:focus {
      outline: none;
      border-color: hsl(var(--primary));
      box-shadow: 0 0 0 2px hsl(var(--primary) / 0.1);
    }

    .shadcn-radio {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 0.5rem;
      transition: background-color 0.2s ease;
    }

    .shadcn-radio:hover {
      background-color: hsl(var(--accent) / 0.1);
    }

    .shadcn-radio input[type="radio"] {
      width: 1.125rem;
      height: 1.125rem;
      accent-color: hsl(var(--primary));
      cursor: pointer;
    }

    .shadcn-table {
      width: 100%;
      border-collapse: collapse;
      background-color: hsl(var(--card));
      border-radius: 0.75rem;
      overflow: hidden;
      box-shadow: 0 1px 3px 0 hsl(var(--shadow) / 0.1), 0 1px 2px -1px hsl(var(--shadow) / 0.1);
    }

    .shadcn-table th {
      background-color: hsl(var(--muted));
      padding: 1rem;
      text-align: left;
      font-weight: 600;
      font-size: 0.875rem;
      color: hsl(var(--foreground));
      border-bottom: 1px solid hsl(var(--border));
    }

    .shadcn-table td {
      padding: 1rem;
      border-bottom: 1px solid hsl(var(--border));
      color: hsl(var(--foreground));
      vertical-align: middle;
    }

    .shadcn-table tbody tr:hover {
      background-color: hsl(var(--muted) / 0.5);
    }

    .shadcn-table tbody tr:last-child td {
      border-bottom: none;
    }

    .shadcn-badge {
      display: inline-flex;
      align-items: center;
      border-radius: 0.5rem;
      border: 1px solid hsl(var(--border));
      padding: 0.375rem 0.75rem;
      font-size: 0.75rem;
      font-weight: 500;
      line-height: 1;
      color: hsl(var(--foreground));
      background-color: hsl(var(--background));
    }

    .shadcn-badge-primary {
      background-color: hsl(var(--primary) / 0.1);
      color: hsl(var(--primary));
      border-color: hsl(var(--primary) / 0.2);
    }

    .shadcn-badge-secondary {
      background-color: hsl(var(--secondary) / 0.1);
      color: hsl(var(--secondary));
      border-color: hsl(var(--secondary) / 0.2);
    }

    .shadcn-progress {
      width: 100%;
      height: 0.75rem;
      background-color: hsl(var(--muted));
      border-radius: 0.5rem;
      overflow: hidden;
    }

    .shadcn-progress-bar {
      height: 100%;
      background-color: hsl(var(--primary));
      transition: width 0.3s ease;
      border-radius: 0.5rem;
    }

    .shadcn-alert {
      padding: 1rem;
      border-radius: 0.75rem;
      border: 1px solid hsl(var(--border));
      background-color: hsl(var(--card));
    }

    .shadcn-alert-info {
      border-color: hsl(var(--info) / 0.2);
      background-color: hsl(var(--info) / 0.1);
      color: hsl(var(--info));
    }

    .shadcn-alert-success {
      border-color: hsl(var(--success) / 0.2);
      background-color: hsl(var(--success) / 0.1);
      color: hsl(var(--success));
    }

    .shadcn-alert-warning {
      border-color: hsl(var(--warning) / 0.2);
      background-color: hsl(var(--warning) / 0.1);
      color: hsl(var(--warning));
    }

    .shadcn-alert-error {
      border-color: hsl(var(--destructive) / 0.2);
      background-color: hsl(var(--destructive) / 0.1);
      color: hsl(var(--destructive));
    }

    .shadcn-dropzone {
      border: 2px dashed hsl(var(--border));
      border-radius: 0.75rem;
      padding: 2.5rem;
      text-align: center;
      background-color: hsl(var(--card));
      transition: all 0.2s ease;
      cursor: pointer;
      min-height: 200px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .shadcn-dropzone:hover {
      border-color: hsl(var(--primary));
      background-color: hsl(var(--primary) / 0.05);
    }

    .shadcn-dropzone.dragover {
      border-color: hsl(var(--primary));
      background-color: hsl(var(--primary) / 0.1);
      transform: scale(1.02);
    }

    .shadcn-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: hsl(var(--background) / 0.8);
      backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .shadcn-modal-content {
      background-color: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: 0.75rem;
      padding: 1.5rem;
      max-width: 90vw;
      max-height: 90vh;
      overflow: auto;
      box-shadow: 0 25px 50px -12px hsl(var(--shadow) / 0.25);
    }

    .shadcn-accordion {
      border: 1px solid hsl(var(--border));
      border-radius: 0.75rem;
      overflow: hidden;
    }

    .shadcn-accordion-item {
      border-bottom: 1px solid hsl(var(--border));
    }

    .shadcn-accordion-item:last-child {
      border-bottom: none;
    }

    .shadcn-accordion-trigger {
      width: 100%;
      padding: 1rem;
      background: none;
      border: none;
      text-align: left;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: hsl(var(--foreground));
      font-weight: 500;
      transition: background-color 0.2s ease;
    }

    .shadcn-accordion-trigger:hover {
      background-color: hsl(var(--accent) / 0.1);
    }

    .shadcn-accordion-content {
      padding: 0 1rem 1rem;
      color: hsl(var(--muted-foreground));
      line-height: 1.6;
    }

    .shadcn-accordion-content.hidden {
      display: none;
    }

    .shadcn-accordion-icon {
      transition: transform 0.2s ease;
    }

    .shadcn-accordion-trigger[aria-expanded="true"] .shadcn-accordion-icon {
      transform: rotate(180deg);
    }

    .shadcn-checkbox {
      width: 1.125rem;
      height: 1.125rem;
      border-radius: 0.25rem;
      border: 1px solid hsl(var(--border));
      background-color: hsl(var(--background));
      cursor: pointer;
      accent-color: hsl(var(--primary));
    }

    .shadcn-checkbox:checked {
      background-color: hsl(var(--primary));
      border-color: hsl(var(--primary));
    }

    /* Enhanced preview styles */
    .preview-img-container {
      position: relative;
      display: inline-block;
      cursor: pointer;
    }

    .preview {
      width: 48px;
      height: 48px;
      object-fit: cover;
      border-radius: 0.5rem;
      border: 1px solid hsl(var(--border));
    }

    .magnify-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: hsl(var(--background) / 0.9);
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .preview-img-container:hover .magnify-icon {
      opacity: 1;
    }

    .magnify-icon svg {
      width: 16px;
      height: 16px;
    }

    /* Responsive improvements */
    @media (max-width: 768px) {
      .shadcn-table {
        font-size: 0.75rem;
      }
      
      .shadcn-table th,
      .shadcn-table td {
        padding: 0.75rem 0.5rem;
      }
      
      .shadcn-card {
        padding: 1rem;
      }

      .shadcn-dropzone {
        padding: 1.5rem;
        min-height: 150px;
      }
    }

    /* Custom animations */
    .fade-in {
      animation: fadeIn 0.3s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .slide-up {
      animation: slideUp 0.3s ease-out;
    }

    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body data-slug="image-converter" class="bg-background min-h-screen flex flex-col">
  <a href="#main-content" class="sr-only focus:not-sr-only absolute left-2 top-2 bg-background text-foreground p-2 z-50">Skip to main content</a>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NFJTSQ3N" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  
  <!-- Universal Navigation will be injected here by universal-nav.js -->
  
  <!-- Page Layout -->
  <div class="flex flex-grow">
    <!-- Universal Sidebar will be injected here by universal-nav.js -->
    
    <!-- Main Content -->
    <main id="main-content" class="flex-1 p-6">
      <!-- Hero Section -->
      <div class="text-center mb-12 fade-in">
        <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-6">
          <i data-lucide="image" class="w-8 h-8 text-primary"></i>
        </div>
        <h1 class="text-4xl font-bold text-foreground mb-4">Image Converter</h1>
        <p class="text-lg text-muted-foreground max-w-3xl mx-auto leading-relaxed">
          Convert images right in your browser without installing software. Resize, set target output sizes, and export to modern formats like WebP, JPEG, PNG, or AVIF.
        </p>
        <div class="flex flex-wrap justify-center gap-2 mt-6">
          <span class="shadcn-badge shadcn-badge-primary">WebP Support</span>
          <span class="shadcn-badge shadcn-badge-secondary">HEIC/HEIF</span>
          <span class="shadcn-badge shadcn-badge-secondary">RAW Formats</span>
          <span class="shadcn-badge shadcn-badge-secondary">Batch Processing</span>
        </div>
      </div>

      <!-- Main Controls Card -->
      <div class="shadcn-card max-w-5xl mx-auto mb-8 slide-up">
        <div class="flex items-center gap-3 mb-6">
          <i data-lucide="settings" class="w-5 h-5 text-primary"></i>
          <h2 class="text-xl font-semibold text-foreground">Conversion Settings</h2>
        </div>
        
        <!-- Size Mode Selection -->
        <div class="mb-8">
          <label class="text-sm font-medium text-foreground mb-4 block">Size Mode</label>
          <div class="flex gap-6">
            <label class="shadcn-radio">
              <input type="radio" id="mode-dimensions" name="size-mode" value="dimensions" checked>
              <span class="font-medium">Dimensions</span>
            </label>
            <label class="shadcn-radio">
              <input type="radio" id="mode-filesize" name="size-mode" value="filesize">
              <span class="font-medium">File Size</span>
            </label>
          </div>
        </div>

        <!-- Dimension Controls -->
        <div id="width-control" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
          <div>
            <label for="max-width" class="text-sm font-medium text-foreground mb-3 block">Max Width</label>
            <input id="max-width" type="number" min="1" max="99999" value="99999" class="shadcn-input" placeholder="Enter max width" />
          </div>
          <div>
            <label for="max-height" class="text-sm font-medium text-foreground mb-3 block">Max Height</label>
            <input id="max-height" type="number" min="1" max="99999" value="99999" class="shadcn-input" placeholder="Enter max height" />
          </div>
        </div>

        <!-- File Size Controls -->
        <div id="file-size-group" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8" style="display: none;">
          <div>
            <label for="target-size" class="text-sm font-medium text-foreground mb-3 block">Target Size</label>
            <input id="target-size" type="number" min="1" max="10000" value="500" class="shadcn-input" placeholder="Enter target size" />
          </div>
          <div>
            <label for="size-unit" class="text-sm font-medium text-foreground mb-3 block">Unit</label>
            <select id="size-unit" class="shadcn-select">
              <option value="KB">KB</option>
              <option value="MB">MB</option>
            </select>
          </div>
        </div>

        <!-- Output Format -->
        <div class="mb-8">
          <label for="output-format" class="text-sm font-medium text-foreground mb-3 block">Output Format</label>
          <select id="output-format" class="shadcn-select">
            <option value="webp">WebP (Recommended)</option>
            <option value="jpeg">JPEG</option>
            <option value="png">PNG</option>
            <option value="avif">AVIF</option>
          </select>
        </div>

        <!-- Upload Area -->
        <div class="mb-6">
          <label class="text-sm font-medium text-foreground mb-4 block">Upload Images</label>
          <div id="drop-area" class="shadcn-dropzone">
            <div class="flex flex-col items-center gap-4">
              <div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center">
                <i data-lucide="upload" class="w-8 h-8 text-primary"></i>
              </div>
              <div class="text-center">
                <p class="text-foreground font-semibold text-lg mb-2">Drop images here or click to browse</p>
                <p class="text-sm text-muted-foreground">Supports JPEG, PNG, WebP, HEIC, AVIF, and RAW formats</p>
                <p class="text-xs text-muted-foreground mt-1">Drag and drop or click to select files</p>
              </div>
            </div>
            <input id="file-elem" type="file" multiple accept="image/*" class="hidden" />
          </div>
        </div>

        <!-- Progress Section -->
        <div id="progress-section" class="hidden mb-6">
          <div class="flex justify-between items-center mb-3">
            <span id="progress-status" class="text-sm font-medium text-foreground">Processing...</span>
            <span id="progress-percentage" class="text-sm text-muted-foreground">0%</span>
          </div>
          <div class="shadcn-progress">
            <div id="progress-bar" class="shadcn-progress-bar" style="width: 0%"></div>
          </div>
        </div>
      </div>

      <!-- Download Controls -->
      <div id="download-controls" class="shadcn-card max-w-5xl mx-auto mb-8 hidden slide-up">
        <div class="flex items-center gap-3 mb-6">
          <i data-lucide="download" class="w-5 h-5 text-primary"></i>
          <h3 class="text-lg font-semibold text-foreground">Download Options</h3>
        </div>
        <div class="flex flex-col sm:flex-row gap-4">
          <a id="download-link" href="#" download="converted_images.zip" class="shadcn-button shadcn-button-primary">
            <i data-lucide="download" class="w-4 h-4"></i>
            Download All as ZIP
          </a>
          <button id="download-selected" class="shadcn-button shadcn-button-secondary">
            <i data-lucide="download" class="w-4 h-4"></i>
            Download Selected
          </button>
        </div>
      </div>

      <!-- Bulk Rename Controls -->
      <div id="bulk-rename-controls" class="shadcn-card max-w-5xl mx-auto mb-8 hidden slide-up">
        <div class="flex items-center gap-3 mb-6">
          <i data-lucide="edit-3" class="w-5 h-5 text-primary"></i>
          <h3 class="text-lg font-semibold text-foreground">Bulk Rename</h3>
        </div>
        <div class="flex flex-col sm:flex-row gap-4">
          <input id="bulk-rename-base" type="text" placeholder="Base name (e.g. Image)" class="shadcn-input flex-1" />
          <input id="bulk-rename-start" type="number" min="1" value="1" class="shadcn-input w-32" />
          <button id="bulk-rename-btn" class="shadcn-button shadcn-button-outline">
            <i data-lucide="save" class="w-4 h-4"></i>
            Bulk Rename
          </button>
        </div>
      </div>

      <!-- Preview Table -->
      <div class="shadcn-card max-w-7xl mx-auto mb-8 slide-up">
        <div class="flex items-center gap-3 mb-6">
          <i data-lucide="list" class="w-5 h-5 text-primary"></i>
          <h3 class="text-lg font-semibold text-foreground">Image Preview & Conversion</h3>
        </div>
        <div class="overflow-x-auto">
          <table id="preview-table" class="shadcn-table">
            <thead>
              <tr>
                <th class="w-16">
                  <input type="checkbox" id="select-all" class="shadcn-checkbox">
                </th>
                <th class="w-20">#</th>
                <th class="w-32">Preview</th>
                <th>Original Filename</th>
                <th>Rename</th>
                <th class="w-40">Output Size</th>
                <th class="w-40">Actions</th>
              </tr>
            </thead>
            <tbody id="preview-tbody"></tbody>
          </table>
        </div>
      </div>

      <!-- Stripe Pricing Table -->
      <div class="shadcn-card max-w-5xl mx-auto mb-8 slide-up">
        <div class="flex items-center gap-3 mb-6">
          <i data-lucide="crown" class="w-5 h-5 text-primary"></i>
          <h3 class="text-lg font-semibold text-foreground">Upgrade for More Features</h3>
        </div>
        <div id="stripe-pricing">
          <script async src="https://js.stripe.com/v3/pricing-table.js"></script>
          <stripe-pricing-table pricing-table-id="prctbl_1QwytqBcmaVSn6Z156zYdTHl"
            publishable-key="pk_test_51QwytqBcmaVSn6Z156zYdTHl">
          </stripe-pricing-table>
        </div>
      </div>

      <!-- About Section -->
      <div class="shadcn-card max-w-5xl mx-auto mb-8 slide-up">
        <div class="flex items-center gap-3 mb-6">
          <i data-lucide="info" class="w-5 h-5 text-primary"></i>
          <h2 class="text-2xl font-bold text-foreground">About this tool</h2>
        </div>
        <p class="text-muted-foreground mb-6 leading-relaxed">
          Upload multiple images, set a desired file size and the converter will find the best compression automatically. 
          Optional watermarking and a sleek progress bar keep your batch jobs organized.
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
          <div class="space-y-4">
            <h4 class="font-semibold text-foreground text-lg">WebP Benefits</h4>
            <ul class="space-y-3 text-sm text-muted-foreground">
              <li class="flex items-start gap-3">
                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"></i>
                <span>Smaller file sizes compared to JPEG (up to 50% smaller)</span>
              </li>
              <li class="flex items-start gap-3">
                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"></i>
                <span>Better image quality at the same file size</span>
              </li>
              <li class="flex items-start gap-3">
                <i data-lucide="check-circle" class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"></i>
                <span>Support for transparency</span>
              </li>
            </ul>
          </div>
          
          <div class="space-y-4">
            <h4 class="font-semibold text-foreground text-lg">Browser Compatibility</h4>
            <ul class="space-y-3 text-sm text-muted-foreground">
              <li class="flex items-start gap-3">
                <i data-lucide="safari" class="w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"></i>
                <div>
                  <strong>Safari 17+</strong>: Native HEIC support
                </div>
              </li>
              <li class="flex items-start gap-3">
                <i data-lucide="chrome" class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"></i>
                <div>
                  <strong>Chrome/Edge</strong>: Good support via JavaScript libraries
                </div>
              </li>
              <li class="flex items-start gap-3">
                <i data-lucide="firefox" class="w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"></i>
                <div>
                  <strong>Firefox</strong>: Limited support, may have issues with some HEIC variants
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- FAQs Section -->
      <div class="shadcn-card max-w-5xl mx-auto mb-8 slide-up">
        <div class="flex items-center gap-3 mb-6">
          <i data-lucide="help-circle" class="w-5 h-5 text-primary"></i>
          <h2 class="text-2xl font-bold text-foreground">Frequently Asked Questions</h2>
        </div>
        <div class="shadcn-accordion">
          <div class="shadcn-accordion-item">
            <button class="shadcn-accordion-trigger" aria-expanded="false">
              <span>How do I convert images to WebP?</span>
              <i data-lucide="chevron-down" class="shadcn-accordion-icon w-4 h-4"></i>
            </button>
            <div class="shadcn-accordion-content hidden">
              Upload your files, choose WebP as the output format and click convert. Our free online image converter will handle the rest.
            </div>
          </div>
          
          <div class="shadcn-accordion-item">
            <button class="shadcn-accordion-trigger" aria-expanded="false">
              <span>How does the target size option work?</span>
              <i data-lucide="chevron-down" class="shadcn-accordion-icon w-4 h-4"></i>
            </button>
            <div class="shadcn-accordion-content hidden">
              Enter your desired file size and we run a quick binary search to find the compression level that gets closest to it. Extremely small targets may visibly reduce quality.
            </div>
          </div>
          
          <div class="shadcn-accordion-item">
            <button class="shadcn-accordion-trigger" aria-expanded="false">
              <span>Can I convert HEIC photos from my iPhone?</span>
              <i data-lucide="chevron-down" class="shadcn-accordion-icon w-4 h-4"></i>
            </button>
            <div class="shadcn-accordion-content hidden">
              Yes, the tool converts HEIC images to popular formats like JPEG or PNG so you can easily share them.
            </div>
          </div>
          
          <div class="shadcn-accordion-item">
            <button class="shadcn-accordion-trigger" aria-expanded="false">
              <span>Does the converter work for large batches?</span>
              <i data-lucide="chevron-down" class="shadcn-accordion-icon w-4 h-4"></i>
            </button>
            <div class="shadcn-accordion-content hidden">
              You can upload multiple pictures at once and download everything as a ZIP after the conversion finishes.
            </div>
          </div>
          
          <div class="shadcn-accordion-item">
            <button class="shadcn-accordion-trigger" aria-expanded="false">
              <span>Is this image converter free?</span>
              <i data-lucide="chevron-down" class="shadcn-accordion-icon w-4 h-4"></i>
            </button>
            <div class="shadcn-accordion-content hidden">
              The basic conversion features are free and run directly in your browser.
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  
  <!-- Image Modal for preview -->
  <div id="image-modal" class="shadcn-modal hidden">
    <div class="shadcn-modal-content max-w-4xl">
      <div class="flex justify-between items-center mb-6">
        <h3 class="text-xl font-semibold text-foreground">Image Preview</h3>
        <button class="close-modal shadcn-button shadcn-button-ghost" aria-label="Close">
          <i data-lucide="x" class="w-5 h-5"></i>
        </button>
      </div>
      <div class="flex items-center justify-center mb-6">
        <img src="" alt="Preview" class="max-w-full h-auto max-h-96 rounded-lg shadow-lg" />
      </div>
      <div class="flex justify-between items-center">
        <button id="modal-prev" class="shadcn-button shadcn-button-outline">
          <i data-lucide="chevron-left" class="w-4 h-4 mr-2"></i>
          Previous
        </button>
        <div id="modal-caption" class="text-center text-muted-foreground font-medium"></div>
        <button id="modal-next" class="shadcn-button shadcn-button-outline">
          Next
          <i data-lucide="chevron-right" class="w-4 h-4 ml-2"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Login Modal -->
  <div id="login-modal" class="shadcn-modal hidden">
    <div class="shadcn-modal-content max-w-md">
      <div class="flex justify-between items-center mb-6">
        <h3 class="text-xl font-semibold text-foreground">Login / Sign Up</h3>
        <button id="close-login-modal" class="shadcn-button shadcn-button-ghost">
          <i data-lucide="x" class="w-5 h-5"></i>
        </button>
      </div>
      
      <div class="space-y-5">
        <div>
          <label for="modal-email" class="text-sm font-medium text-foreground mb-3 block">Email</label>
          <input id="modal-email" type="email" placeholder="your@email.com" class="shadcn-input" />
        </div>

        <div id="full-name-field" class="hidden">
          <label for="modal-full-name" class="text-sm font-medium text-foreground mb-3 block">Full Name</label>
          <input id="modal-full-name" type="text" placeholder="Your full name" class="shadcn-input" />
        </div>
        
        <div id="password-field">
          <label for="modal-password" class="text-sm font-medium text-foreground mb-3 block">Password</label>
          <input id="modal-password" type="password" placeholder="Your password" class="shadcn-input" />
        </div>
        
        <div id="auth-actions" class="flex gap-3">
          <button id="modal-signup-btn" class="shadcn-button shadcn-button-primary flex-1">Sign Up</button>
          <button id="modal-login-btn" class="shadcn-button shadcn-button-secondary flex-1">Login</button>
        </div>

        <button id="google-login-btn" class="shadcn-button shadcn-button-outline w-full flex items-center justify-center gap-3">
          <img src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google" class="w-5 h-5">
          Continue with Google
        </button>
        
        <div class="text-center">
          <a href="#" id="forgot-password-link" class="text-sm text-primary hover:underline">Forgot your password?</a>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Universal Navigation and Footer Scripts -->
  <script src="../../js/universal-nav.js"></script>
  <script src="../../js/universal-footer.js"></script>
  
  <script>
    // Initialize Lucide icons
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
      
      // Initialize accordion functionality
      const accordionTriggers = document.querySelectorAll('.shadcn-accordion-trigger');
      accordionTriggers.forEach(trigger => {
        trigger.addEventListener('click', function() {
          const content = this.nextElementSibling;
          const icon = this.querySelector('.shadcn-accordion-icon');
          const isExpanded = this.getAttribute('aria-expanded') === 'true';
          
          this.setAttribute('aria-expanded', !isExpanded);
          content.classList.toggle('hidden');
        });
      });
      
      // Initialize modal functionality
      const imageModal = document.getElementById('image-modal');
      const closeModalBtn = imageModal.querySelector('.close-modal');
      
      if (closeModalBtn) {
        closeModalBtn.addEventListener('click', function() {
          imageModal.classList.add('hidden');
        });
      }
      
      // Close modal when clicking outside
      imageModal.addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.add('hidden');
        }
      });
      
      // Initialize login modal functionality
      const loginModal = document.getElementById('login-modal');
      const closeLoginModal = document.getElementById('close-login-modal');
      
      if (closeLoginModal) {
        closeLoginModal.addEventListener('click', function() {
          loginModal.classList.add('hidden');
        });
      }
      
      // Close login modal when clicking outside
      loginModal.addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.add('hidden');
        }
      });

      // Add fade-in animation to cards
      const cards = document.querySelectorAll('.shadcn-card');
      cards.forEach((card, index) => {
        card.style.animationDelay = `${index * 0.1}s`;
        card.classList.add('fade-in');
      });
    });
  </script>
</body>
</html>
